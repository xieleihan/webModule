(function(){"use strict";var t={3876:function(t,e,s){var i=s(6848),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.isOpen?e("my-nav"):t._e(),t.isOpen?e("router-view",{staticClass:"container",attrs:{name:"home"},on:{changeView:t.changeView,getText:t.getText}}):t._e(),t.isOpen?t._e():e("router-view",{attrs:{name:"read",textObj:t.html},on:{changeView:t.changeView}})],1)},a=[],o={data(){return{isOpen:!0,html:""}},methods:{changeView(){this.isOpen=!this.isOpen},getText(t){this.html=t,console.log(this.html)}}},r=o,l=s(1656),A=(0,l.A)(r,n,a,!1,null,null,null),c=A.exports,h=s(6178),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("van-pull-refresh",{staticClass:"loading",attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[e("van-swipe",{ref:"mySwipe",staticClass:"my-swipe",attrs:{autoplay:4e3},on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[e("div",{staticClass:"custom-indicator"},t._l(t.lastest,(function(s,i){return e("div",{key:i,staticClass:"item",class:{active:t.current===i},on:{click:function(e){return t.goToSlide(i)}}})})),0)]},proxy:!0}])},t._l(t.lastest,(function(s,i){return e("van-swipe-item",{key:i},[e("div",{staticClass:"texttitle"},[t._v(t._s(s.title))]),e("div",{staticClass:"author"},[t._v("作者/"+t._s(s.hint))]),e("img",{attrs:{src:`${s.images[0]}`,alt:""}}),e("div",{staticClass:"gradient",style:{background:`linear-gradient(to top, ${t.convertColor(s.image_hue)}, transparent)`}})])})),1),e("listCom",{on:{getText:t.getText,changeView:t.changeView}})],1)],1)},d=[],g=(s(4114),s(1981)),m=s(4373);const v=m.A.create({baseURL:"https://apis.netstart.cn/zhihudaily/",timeout:6e4});v.interceptors.response.use((function(t){return t.data}),(function(t){return Promise.reject(t)}));var p=v;const f=(t={})=>p.get("/stories/latest",{params:t}),C=(t={})=>p.get("/stories/before/"+t),y=(t={})=>p.get("/story/"+t);var x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list"},[e("van-list",{on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(s,i){return e("van-cell",{key:s.id,on:{click:function(e){return t.getTextId(s.id)}}},[e("div",{staticClass:"listcontainer"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(t._s(s.title))]),e("div",{staticClass:"author"},[t._v(t._s(s.hint))])]),e("div",{staticClass:"right"},[e("van-image",{attrs:{src:`${s.images[0]}`},scopedSlots:t._u([{key:"loading",fn:function(){return[e("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[t._v("加载失败")]},proxy:!0}],null,!0)})],1)]),(i+1)%5===0?e("van-divider",{attrs:{"content-position":"left"}},[t._v(" "+t._s(t.history[Math.ceil(i/5)]||"无记录")+" ")]):t._e()],1)})),1)],1)},w=[],O={data(){return{history:[],list:[],loading:!1,finished:!1,year:(new Date).getFullYear(),mouth:(new Date).getMonth()+1+0,day:(new Date).getDate()+1,date:"",five:!1,textId:""}},methods:{async onLoad(){const t=this;this.mouth=this.mouth<10&&2!=this.mouth.length?`0${this.mouth}`:`${this.mouth}`,this.day=this.day<10?`0${this.day}`:this.day,this.date="",this.date=`${this.year}${this.mouth}${this.day}`,await C(this.date).then((e=>{console.log(e);const s=e.stories.length;for(let i=0;i<s;i++)t.list.push(e.stories[i]);t.history.push(e.date.substring(4,6)+"月"+e.date.substring(6)+"日")})),this.day>=1?this.day--:(this.day=31,this.mouth>=1?this.mouth--:(this.mouth=12,this.year--)),this.loading=!1},async getTextId(t){this.textId=t,await y(this.textId).then((t=>{this.$emit("getText",t),this.$emit("changeView")}))}}},b=O,T=(0,l.A)(b,x,w,!1,null,"e373a832",null),j=T.exports,S={components:{listCom:j},data(){return{isLoading:!1,lastest:"",current:0}},methods:{onRefresh(){setTimeout((()=>{(0,g.A)("刷新成功"),this.isLoading=!1}),1e3)},onChange(t){this.current=t},goToSlide(t){this.current=t,this.$refs.mySwipe.swipeTo(t)},convertColor(t){return t.startsWith("0x")?`#${t.slice(2)}`:t},getText(t){this.$emit("getText",t),this.$router.push("/home/read")},changeView(){this.$emit("changeView")}},async created(){await f().then((t=>{this.lastest=t.stories}))}},B=S,k=(0,l.A)(B,u,d,!1,null,"66bd5808",null),L=k.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"readText"},[e("div",{staticClass:"readTextContainer"},[e("textCover",{attrs:{textObj:t.textObj}}),e("textContainer",{attrs:{textObj:t.textObj}})],1),e("textNav",{on:{changeView:t.changeView}})],1)},U=[],V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"textNav"},[e("div",{staticClass:"navContainer"},[e("div",{staticClass:"left",on:{click:t.goTopView}},[e("img",{attrs:{src:s(7463),alt:""}})]),t._m(0)])])},D=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"item"},[e("img",{attrs:{src:s(2022),alt:""}})]),e("div",{staticClass:"item"},[e("img",{attrs:{src:s(3204),alt:""}})]),e("div",{staticClass:"item"},[e("img",{attrs:{src:s(8497),alt:""}})]),e("div",{staticClass:"item"},[e("img",{attrs:{src:s(7733),alt:""}})])])}],E={methods:{goTopView(){this.$emit("changeView"),this.$router.go(-1)}}},R=E,N=(0,l.A)(R,V,D,!1,null,"7a7eba61",null),Q=N.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"textCover"},[e("img",{attrs:{src:this.textObj.story.image}}),e("div",{staticClass:"gradient",style:{background:`linear-gradient(to top, ${t.convertColor(this.textObj.story.imageHue)}, transparent)`}}),e("div",{staticClass:"textTitle"},[t._v(t._s(this.textObj.story.title))])])},J=[],F={props:{textObj:{type:Object}},methods:{convertColor(t){return t.startsWith("0x")?`#${t.slice(2)}`:t}}},Y=F,M=(0,l.A)(Y,_,J,!1,null,"ea2dc96e",null),z=M.exports,X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"textContainer"},[e("div",{staticClass:"textContainerTitle"},[t._v(t._s(t.textObj.story.title))]),e("div",{staticClass:"textdesc"},[e("div",{staticClass:"textAthor"},[t._v("作者/"+t._s(t.author))]),e("div",{staticClass:"linkToZhihu"},[t._v("进入「懂乎」查看原文")])]),e("div",{staticClass:"html",domProps:{innerHTML:t._s(t.body)}})])},Z=[],H={props:{textObj:{type:Object,required:!0}},data(){return{body:"",author:""}},created(){this.textObj&&this.textObj.story&&this.textObj.story.body&&this.extractHtmlContent()},methods:{extractHtmlContent(){const t=/<div class="content">([\s\S]*?)<\/div>/i,e=this.textObj.story.body.match(t),s=/<span class="author">([^<]+)<\/span>/i,i=this.textObj.story.body.match(s);if(i&&i[1]){const t=i[1].replace(/，$/,"");this.author=t}if(e&&e[1]){this.body=e[1];const t=this.body,s=t.replace(/<img(.*?)class="(.*?)"(.*?)>/g,'<img$1class="myimg $2"$3>').replace(/<img(?!.*class=")(.*?)>/g,'<img class="myimg"$1>');this.body=s}else console.error("未找到匹配的内容")}}},W=H,q=(0,l.A)(W,X,Z,!1,null,null,null),G=q.exports,K={props:{textObj:{type:Object}},components:{textNav:Q,textCover:z,textContainer:G},methods:{changeView(){this.$emit("changeView")}}},P=K,$=(0,l.A)(P,I,U,!1,null,"3eb3defc",null),tt=$.exports;i.Ay.use(h.Ay);const et=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:L,components:{home:L,read:tt},children:[{path:"read",name:"read",component:tt}]}],st=new h.Ay({routes:et});let it=h.Ay.prototype.push,nt=h.Ay.prototype.replace;h.Ay.prototype.push=function(t,e,s){e&&s?it.call(this,t,e,s):it.call(this,t,(()=>{}),(()=>{}))},h.Ay.prototype.replace=function(t,e,s){e&&s?nt.call(this,t,e,s):nt.call(this,t,(()=>{}),(()=>{}))};var at=st,ot=(s(6095),function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav"},[e("div",{staticClass:"left"},[e("div",{staticClass:"data"},[e("div",{staticClass:"day"},[t._v(t._s(t.day))]),e("div",{staticClass:"mouth"},[t._v(t._s(t.mouth))])]),e("div",{staticClass:"title"},[t._v(t._s(t.title))])]),t._m(0)])}),rt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"right"},[e("div",{staticClass:"avater"})])}],lt={data(){return{title:"懂乎日报",day:"",mouth:"",hour:""}},created(){const t=new Date,e=["一月","二月","三月","四月","五月","六月","七月 ","八月","九月","十月","十一月","十二月"];this.day=t.getDate(),this.mouth=e[t.getMonth()],this.hour=t.getHours();const s=5e3;this.hour<10&&this.hour>=8&&setTimeout((()=>{this.title="早上好"}),s),this.hour>=10&&this.hour<14&&setTimeout((()=>{this.title="中午好",setTimeout((()=>{this.getOneWord()}),1e4)}),s),this.hour>=14&&this.hour<18&&setTimeout((()=>{this.title="下午好",setTimeout((()=>{this.getOneWord()}),1e4)}),s),this.hour>=18&&this.hour<24&&setTimeout((()=>{this.title="晚上好",setTimeout((()=>{this.getOneWord()}),1e4)}),s),this.hour>=0&&this.hour<6&&setTimeout((()=>{this.title="早点休息",setTimeout((()=>{this.getOneWord()}),1e4)}),s),this.hour>=6&&this.hour<8&&setTimeout((()=>{this.title="一日之计在于晨",setTimeout((()=>{this.getOneWord()}),1e4)}),s)},methods:{async getOneWord(){await m.A.get("https://v1.hitokoto.cn").then((t=>{this.title=t.data.hitokoto}))}}},At=lt,ct=(0,l.A)(At,ot,rt,!1,null,"96579446",null),ht=ct.exports,ut=s(802),dt=(s(2241),s(1281));i.Ay.component("my-nav",ht),i.Ay.use(ut.Ay),i.Ay.use(dt.A,{lazyComponent:!0}),i.Ay.config.productionTip=!1,new i.Ay({router:at,render:t=>t(c)}).$mount("#app")},7463:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAANpJREFUWEfF19ENwjAMhOHrJrAJTIaYBDaBURiFWmoFqiC247s0r6n0f02rRJmw85h27oMNOAC4ADgBuAO4ei/IBFj8tsSt+wJwHAXYxocCfsUNcJ5X46legVLccJV/oByvACjxXgAt3gOgxrMAejwDkMSjAFk8ApDGPYA8HgE85lPNIOuwAyZ0ynlb8Drv7YQWlyI8gEGliAhAiogCZIgMQILIAuiIHgAV0QugISoACqIKaCHsTmC7ZnMwAC3EsHvBP4T7gu4D3hJu5r+vZkM/QdL5eZy9AmnIGzo4QiE/sHB4AAAAAElFTkSuQmCC"},7733:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAbNJREFUWEftlt1RxDAMhHWVAJUAlQCVAJVwVAJUAp1APiY7o/Ov7GTmXk4v8V1iebVaST7Yme1w5vPtAqDEwLWZPZgZz5K9m9mne/G4rn+S/0PZLQF4MzM5LTk5mtmTe/Hr1gLxuvhg3bUIAA70zmDA/wYsjN0lQNgHkKZFAHDYfSAiUgaIW8fgSw9ECwAR4BDHURCK9nlZcDiGXgigaC0AOIDuj0kQAP9eT0UzBJRZDwA5xNEsCPSBqKsMRgCAehYE+wBAKtPq+WejBICPySHR+3rfAoJUwMJNmoPRVjwDwmsBACf9YRTAbDrQEMxSDZ7V6WGUMpFRm1Ct7pr1hZoG2IAGiqWzOpfAeO4KQKXTbCC9Fpu8R4QAzfpBbRpWVTt4sD7XwAqLsCqaCQBitFj2tSpQL98jDQom3IhUaurj3YnWYMUPpWKwrT7g+zjiOanfQCqoe6LHsvrX/l4jUgR0r9AFY3W8aRz74CgdnPl7X4sNP3zw09VQjwGBEQhdVNXPOYA1dKdXslDaogAkTO5+uumUZDCaqk2zQBFfLSL7mhBp9T4QEPh+n4ykYL9TnacLgD+/5HghIoKgJgAAAABJRU5ErkJggg=="},8497:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAkxJREFUWEftlkFSwzAMRSXnIIQFaS9AYUc4Ce1J2p6k5SQtOygXSNNFw0Figdw4Y4LtxC4MwwxZx9aTrP8lhF/+8Jfjw98FGF9dTwlxzhUkgHVZ7pYx1YyqwHh8m5OUGwJYcNCPSxYoxH1RPG9DIaIARlfXG0JRleXLjAPqauzL3eWPA+jsUYjLoniuFMD4NiUpjzFVCK5AN3udcZbdrJBkuj+83odUIQjAlr0OFluFIABX9udUwQrA2QBAKqW8U11OlKsgiLn59t1S6yoAQEWAShGC5BMkCfdKpXvGPPcJIMsmc5ZU84NqsNNFVAmiN0iSLV/CgaSUDwyGSbI05afg6zqXiBcAmHJfMLi+s+sZLUD7vkSz4vC6djXS5yyHG1ALzZ5hxGgBVPZEeV8Xcx8wXN9/rgROfYRb7ZxmBVjLGxRi5nO0UTahGL03fqEc1Dxv64GpC0KVv65XMdm7nviLCppGdEKEmIzhEafMLf1llaGGOGfKDQneDDJ7Tt8BMURZXic0noNHrfKFkE81bI+svQDNmF3ty12QZWvIIYrpBZAo7vTcD8me/+1q3na+5wluVnwoFoCfkO3Yd94LMMomRyRa+qzZV5Uh7toH4HU97hEeOq6FtFEB95BzVRsC0K5eHW2r5+GxzaPWViljSflyh77LCaA1bCpAWzGPV96IOXNzyimQzixRz3jamK0y9gGoRZMD8S7AakCgqQ5sW0bUjgCwIMA1LyL6jG+J8cuQ9/+6ngNiyrYshHjsM6S+inTBowwm1A98//8DvAPNy8cwzv5caQAAAABJRU5ErkJggg=="},2022:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAT9JREFUWEftl19OwkAQhz/0EROvACeRm6hnEJ7hXTkDeBL1JHoFE33kT3/NdLPdNKRTWnjZSUjaYXfmm5kt/Driyja6cn4yQNqBJ+Bh4LF8AZ/Aj/LEAJvCKYBL2BZ4TgEOlrn8YkBToSF33IEKYOiDWcuTAXIH2nbg3k7ub/J0eP3a7j6Er8DcEr8BC7v2+it2F8ANsEuqvrV7j38fxXABaN8fMLYA/8CdXXv9nTqgTS/JCNYWyevvDND3r7J7BBkgd+BiHfgGJsVHaqXJUqGitcsOdFJdkmPToEosiIKtTgSM/zdmgJSNILqYiikLTdWPAqdBaxKqEJRa82FZJS7fnQRBkDYBNMWKteKjAWhdEJZOgNryNvqvAqg2an5qoSo527wAYXZnZ7YAbQA0c1Vdvkj0bW0A+s7pPgODAhwBwpBWIUHBUEQAAAAASUVORK5CYII="},3204:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAmVJREFUWEfFl01O6zAQx2fSVPQI7ChSF1XtiiNA15yAHT0J9BJsoTuWSLw9fTd4UpyqO8qOOzRNyER25TrOhx2e2k2k4nR+no//f0A48QdPHB86A0yn0/ssy7ZJkmw3m83W9ULeAJzzhzzYowpIEEEQLKIoenGB8ALQg2dZ9oKIw/w5pGeSJJcumfAFyOiWiDhXN1ZQlIk4ji/bZsEZYDweD8Mw/LQFYox9umbBGYBzfgMAHwCwEkLM9Jtyzun7G5cy+ACo5nsUQix0AMbYMyLeA8BMCLFqUwZnAJXmPHjpXZWB/wagBSiln26bN2LRnDa4qmy0zoAKXtXlqjlloFL66T1EXJqlOQIgVUvT9FqnDYLgL40apZ6+rxoxAuj1eh80BQ21P+qdA4CpbNqPWNNdFYRAzL+FYViIVJqmD/TU9UMHKOpHDSRFhtTt2TZubbrbdkaNMKlnHMfzIo46aDaQVlOnDDTBmXG8AKQDXpg6QMFHo9HZYDB4R8SnKIredCCbinoBNGjBLQD8AYBXIcSdoZSFiHUuAY0kuZ9tIhhjV4j4Ly/vQghxsGupEyUV9cpAU50nk8n5er3+Ns/ZlLITAPUCBdEtOTeipW0fqHLRTgCqF9RSQk6o19eov9VFOwHIaSCtKD5Sbuc2J9SErlIJj4ykrQ7QuX6/Tzff1llwlVN2ykBTMxolsDplJYAcGzKXpeuma4LVrXG1AC43rDurbUqlLeoAoDqalOq3Asvfoe4vemS/38/MEW1jx7/FY90TjxYSaZeHhST37a/cki98Cej93W63qvtHpfVK5gvR9N7JAX4AdnzIMOO2mkEAAAAASUVORK5CYII="}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,a){if(!i){var o=1/0;for(c=0;c<t.length;c++){i=t[c][0],n=t[c][1],a=t[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(r=!1,a<o&&(o=a));if(r){t.splice(c--,1);var A=n();void 0!==A&&(e=A)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[i,n,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,a,o=i[0],r=i[1],l=i[2],A=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var c=l(s)}for(e&&e(i);A<o.length;A++)a=o[A],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(c)},i=self["webpackChunkdonghu"]=self["webpackChunkdonghu"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],(function(){return s(3876)}));i=s.O(i)})();
//# sourceMappingURL=app.bcd29665.js.map